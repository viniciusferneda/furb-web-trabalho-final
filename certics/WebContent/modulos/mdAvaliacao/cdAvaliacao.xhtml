<!DOCTYPE html [
    <!ENTITY nbsp "&#160;"> 
]>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui" xmlns:f="http://java.sun.com/jsf/core" xmlns:c="http://java.sun.com/jsp/jstl/core">

<style type="text/css">

.fieldTitle {
	display: inline-block;
	float: left;
	clear: left;
	width: 150px;
	height: 30px;
	text-align: right;
	margin-right: 5px;
	font-weight: bold; 
	/*background-color: #F1EEE9;
	margin-bottom: 5px;*/
}

.value {
	display: inline-block;
	float: left;
}

.field {
	display: inline-block;
	float: left;
	width: 400px;
}
</style>

<ui:decorate template="/pages/templates/default.xhtml">
	<ui:define name="tpCenter">
		<h:form id="cdAvaliacaoForm">
			<p:growl id="growls" showDetail="true" autoUpdate="true" closable="true" />
	        <br/>
		    <p:outputLabel for="avaliador" value="Avaliador:" styleClass="fieldTitle" />
			<p:selectOneMenu value="#{avaliacaoBean.avaliacao.avaliador}" id="avaliador" styleClass="field" required="true" requiredMessage="Informar o avaliador.">
				<f:selectItem itemLabel="" />
				<f:selectItems var="av" value="#{avaliacaoBean.allAvaliador}" itemLabel="#{av.nome}" itemValue="#{av.id}" />
			</p:selectOneMenu>
	        <br/>
		    <p:outputLabel for="software" value="Software:" styleClass="fieldTitle" />
			<p:selectOneMenu value="#{avaliacaoBean.avaliacao.software}" id="software" styleClass="field" required="true" requiredMessage="Informar o software.">
				<f:selectItem itemLabel="" />
				<f:selectItems var="sof" value="#{avaliacaoBean.allSoftware}" itemLabel="#{sof.nome}" itemValue="#{sof.id}" />
			</p:selectOneMenu>
			<br/>
			<h:dataTable value="#{avaliacaoBean.lPerguntaResposta}" var="pergRes" editable="true">
				<f:facet name="header">
					Questionário
				</f:facet>
				<p:column>
					<f:facet name="header">
						<h:outputText value="Área de competência" />
					</f:facet>
					<h:outputText value="#{car.resultadoEsperado.areaCompetencia.titulo}" />
				</p:column>
				<p:column>
					<f:facet name="header">
						<h:outputText value="Resultado Esperado" />
					</f:facet>
					<h:outputText value="#{car.resultadoEsperado.titulo}" />
				</p:column>
				<p:column headerText="Evidência">
					<p:cellEditor>
						<f:facet name="output">
							<h:outputText value="#{pergRes.evidencia}" />
						</f:facet>
						<f:facet name="input">
							<h:inputText value="#{pergRes.evidencia}"/>
						</f:facet>
					</p:cellEditor>
				</p:column>
				<p:column headerText="Pontuação">
					<p:cellEditor>
						<f:facet name="output">
							<h:outputText value="#{pergRes.escalaPontuacaoRE}" />
						</f:facet>
						<f:facet name="input">
							<h:inputText value="#{pergRes.escalaPontuacaoRE.descricao}"/>
						</f:facet>
					</p:cellEditor>
				</p:column>
			</h:dataTable>
			<br/>
			<br/>
			<br/>
			<p:commandButton value="Salvar"  action="#{avaliacaoBean.salvar()}" update="cdAvaliacaoForm,messages" ajax="false" oncomplete="PF('ppNovaAvaliacao').hide();" process="@form" />
			<p:commandButton value="Cancelar" action="#{avaliacaoBean.limpar()}" update="cdAvaliacaoForm,messages" ajax="false" oncomplete="PF('ppNovaAvaliacao').hide();" />  
			<br style="clear: left;" />			
		</h:form>
	</ui:define>
</ui:decorate>
</html>